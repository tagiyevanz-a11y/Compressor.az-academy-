<!DOCTYPE html>
<html lang="az">
<head>
<meta charset="UTF-8">
<title>Accounting Daily</title>
<style>
body{background:#F4F7FB;font-family:Arial;margin:0;padding:0}
.wrap{max-width:560px;margin:30px auto;padding:25px;background:#fff;border-radius:16px;
box-shadow:0 4px 12px rgba(0,0,0,0.08);border-left:6px solid:#0057B7}
.lang{text-align:right;margin-bottom:10px}
.lang button{background:#0057B7;color:#fff;border:none;padding:6px 12px;margin-left:5px;
border-radius:6px;cursor:pointer;font-size:13px}
.lang button.active{background:#003F8A}
h2{color:#12345B;margin-bottom:15px}
label{font-weight:600;font-size:14px;margin-top:10px;display:block}
input,textarea,select{width:100%;padding:8px 10px;margin-top:4px;margin-bottom:10px;
border-radius:8px;border:1px solid #C9D4E0;box-sizing:border-box}
button.save{margin-top:15px;width:100%;padding:12px;background:#0057B7;color:#fff;
border:none;border-radius:8px;font-size:16px;font-weight:bold;cursor:pointer}
button.save:hover{background:#003F8A}
#accStatus.success{color:green;font-weight:bold}
#accStatus.error{color:red;font-weight:bold}
</style>
</head>
<body>
<div class="wrap">
  <div class="lang">
    <button id="aAZ" class="active">AZ</button>
    <button id="aRU">RU</button>
  </div>

  <h2 id="aTitle">Mühasibat — gündəlik hesabat</h2>

  <form id="accDailyForm">
    <input type="hidden" name="department" value="Accounting_Daily">
    <input type="hidden" name="language" id="aLang" value="AZ">

    <label id="aLblDate">Tarix:</label>
    <input type="date" name="date" required>

    <label id="aLblName">Ad:</label>
    <input type="text" name="employee" required>

    <label id="aLblPayments">Emal olunan ödənişlər (ədəd):</label>
    <input type="number" name="payments" min="0" value="0">

    <label id="aLblInvDone">Rəsmiləşdirilən fakturalar (ədəd):</label>
    <input type="number" name="invoices" min="0" value="0">

    <label id="aLblCash">Kassa üzrə gün sonu yoxlama:</label>
    <select name="cash_check">
      <option value="Bəli / Да">Bəli / Да</option>
      <option value="Xeyr / Нет">Xeyr / Нет</option>
    </select>

    <label id="aLblBank">Bank üzrə gün sonu yoxlama:</label>
    <select name="bank_check">
      <option value="Bəli / Да">Bəli / Да</option>
      <option value="Xeyr / Нет">Xeyr / Нет</option>
    </select>

    <label id="aLblReq">Yoxlanılan rekvizitlər / müqavilələr (ədəd):</label>
    <input type="number" name="requisites" min="0" value="0">

    <label id="aLblClInv">Müştərilərə kəsilən hesab-fakturalar (ədəd):</label>
    <input type="number" name="client_invoices" min="0" value="0">

    <label id="aLblDocs">Geri qaytarılan sənədlər (səhv rekvizit, imza, məbləğ):</label>
    <input type="number" name="docs_returned" min="0" value="0">

    <label id="aLblComment">Şərh:</label>
    <textarea name="comment" rows="3"></textarea>

    <button type="submit" class="save" id="aBtnSave">Saxla</button>
  </form>

  <p id="accStatus"></p>
</div>

<script>
const AC_AZ = {
  title:"Mühasibat — gündəlik hesabat",
  date:"Tarix:",
  name:"Ad:",
  payments:"Emal olunan ödənişlər (ədəd):",
  invDone:"Rəsmiləşdirilən fakturalar (ədəd):",
  cash:"Kassa üzrə gün sonu yoxlama:",
  bank:"Bank üzrə gün sonu yoxlama:",
  req:"Yoxlanılan rekvizitlər / müqavilələr (ədəd):",
  clInv:"Müştərilərə kəsilən hesab-fakturalar (ədəd):",
  docs:"Geri qaytarılan sənədlər (ədəd):",
  comment:"Şərh:",
  save:"Saxla"
};
const AC_RU = {
  title:"Ежедневный отчёт — Бухгалтерия",
  date:"Дата:",
  name:"Имя:",
  payments:"Количество обработанных платежей:",
  invDone:"Количество проведённых счетов-фактур:",
  cash:"Сверка кассы за день:",
  bank:"Сверка банка за день:",
  req:"Количество проверенных реквизитов / договоров:",
  clInv:"Количество выставленных счетов клиентам:",
  docs:"Количество возвращённых документов:",
  comment:"Комментарий:",
  save:"Сохранить"
};
function acSet(lang){
  const t=lang==="AZ"?AC_AZ:AC_RU;
  aLang.value=lang;
  aTitle.textContent=t.title;
  aLblDate.textContent=t.date;
  aLblName.textContent=t.name;
  aLblPayments.textContent=t.payments;
  aLblInvDone.textContent=t.invDone;
  aLblCash.textContent=t.cash;
  aLblBank.textContent=t.bank;
  aLblReq.textContent=t.req;
  aLblClInv.textContent=t.clInv;
  aLblDocs.textContent=t.docs;
  aLblComment.textContent=t.comment;
  aBtnSave.textContent=t.save;
  aAZ.classList.toggle("active",lang==="AZ");
  aRU.classList.toggle("active",lang==="RU");
}
aAZ.onclick=()=>acSet("AZ");
aRU.onclick=()=>acSet("RU");

document.getElementById("accDailyForm").addEventListener("submit", async e=>{
  e.preventDefault();
  const formData=new FormData(e.target);
  const data=Object.fromEntries(formData.entries());
  ["payments","invoices","requisites","client_invoices","docs_returned"]
    .forEach(k=>data[k]=Number(data[k]||0));
  const s=document.getElementById("accStatus");
  try{
    await fetch("https://script.google.com/macros/s/AKfycbxbZCdOuATN4kbiHMbgmHjWlfnWGyPf_Cb0zJFbSjNq-jMMqP_uyc4v1e7xa3PMeFqg9w/exec",{
      method:"POST",mode:"no-cors",body:JSON.stringify(data)
    });
    s.textContent="✔ Yadda saxlanıldı / Сохранено";
    s.className="success";
    e.target.reset();
  }catch(err){
    s.textContent="❌ Xəta / Ошибка";
    s.className="error";
  }
});
</script>
</body>
</html>
